<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Senarai Peserta MLBB - NADI Taman Sri Muda</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.4.1/papaparse.min.js"></script>

<style>
  .container, .container-sm {
    margin:0px;
  }
</style>


  <style>
.floating-btn {
  position: fixed;
  left: 20px;       /* jarak dari kiri */
  bottom: 20px;     /* jarak dari bawah */
  background-color: #007BFF; /* warna biru premium */
  width: 50px;
  height: 50px;
  border-radius: 50%;   /* bentuk bulat */
  display: flex;
  align-items: center;
  justify-content: center;
  text-decoration: none;
  box-shadow: 0 4px 8px rgba(0,0,0,0.3);
  transition: transform 0.2s, box-shadow 0.2s;
  z-index: 1000;
}

.floating-btn:hover {
  transform: translateY(-3px);
  box-shadow: 0 6px 12px rgba(0,0,0,0.4);
}

.floating-btn svg {
  display: block;
}
</style>
</head>
<body>

<div class="container" style="margin-left:-10px;">

  <!-- Tempat untuk paparkan jumlah peserta -->
  <p id="participant_count" class="font-weight-bold">Memuatkan data...</p>

  <div id="students_list"></div>
</div>

<script>
// Link CSV Publish to Web anda
const CSV_URL = "https://docs.google.com/spreadsheets/d/e/2PACX-1vRqId3-gIXvIgl8qq_tA9LbGjRdwQs3kHbjoBAvwB4iY781AUMWpWv37deHOKbnXGMs1SUCWgL_yvEY/pub?output=csv";

// Fungsi untuk fetch dan paparkan table
function loadStudents() {
  Papa.parse(CSV_URL, {
    download: true,
    header: true,
    skipEmptyLines: true,
    complete: function(results) {
      const data = results.data;
      if(data.length === 0){
        $('#participant_count').text('Tiada peserta dijumpai.');
        $('#students_list').html('');
        return;
      }

      // Paparkan bilangan peserta
      $('#participant_count').text('Jumlah peserta: ' + data.length);

      // Buat table simple
      let html = '<table class="table table-striped table-bordered">';
      html += '<thead><tr>';
      Object.keys(data[0]).forEach(h => html += '<th>'+h+'</th>');
      html += '</tr></thead><tbody>';

      data.forEach(row => {
        html += '<tr>';
        Object.values(row).forEach(cell => html += '<td>'+cell+'</td>');
        html += '</tr>';
      });

      html += '</tbody></table>';
      $('#students_list').html(html);
    },
    error: function(err){
      console.error(err);
      $('#participant_count').text('Gagal memuatkan data. Periksa link CSV anda.');
      $('#students_list').html('');
    }
  });
}

// Auto-load bila page dibuka
$(document).ready(function(){
  loadStudents();
});
</script>

  <!-- Butang Terapung Kiri Bawah dengan Logo Back -->
<a href="https://contoh-link-anda.com" class="floating-btn" title="Kembali">
  <!-- Ikon Back (SVG) -->
  <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="white" viewBox="0 0 24 24">
    <path d="M15.41 7.41 14 6l-6 6 6 6 1.41-1.41L10.83 12z"/>
  </svg>
</a>

</body>
</html>
